# CKB Core Development

## Well-known Hashes

The command `ckb list-hashes` prints the well-known hashes for current
effective chain spec.

The file `docs/hashes.toml` contains the well-known hashes for all the bundled
chain specs. The file is generated by:

```
cargo run list-hashes -b > docs/hashes.toml
```

## Running Test

Install dependencies

```
rustup component add rustfmt
rustup component add clippy
```

Run tests

```
make ci
```

Run acceptance integration tests

```
make integration
```

## Chain Spec

The chain spec in `specs/dev.toml` can switch between different PoW engines.

CKB now supports following PoW Engines.

### Eaglesong

```
[pow]
func = "Eaglesong"
```

### Eaglesong with an extra Blake2b Hash

Used for testnet.

```
[pow]
func = "EaglesongBlake2b"
```

and the miner workers section in `ckb-miner.toml` should be:

```
[[miner.workers]]
worker_type = "EaglesongSimple"
threads     = 1
extra_hash_function = "Blake2b"
```

### Dummy

```
[pow]
func = "Dummy"
```

and don't forget to modify `ckb-miner.toml` miner workers section:

```
[[miner.workers]]
worker_type = "Dummy"
delay_type  = "Constant"
value       = 5000
```

## Development Tools

### Schema Compiler and  Code Generator For Serialization

```
cargo install moleculec --locked
```
